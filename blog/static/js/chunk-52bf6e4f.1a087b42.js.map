{"version":3,"sources":["webpack:///./src/pages/Column/index.vue?4976","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/pages/Column/index.vue?5ae5","webpack:///./src/pages/Column/index.vue?fb72","webpack:///./src/pages/Column/index.vue","webpack:///./src/pages/Column/index.vue?1180"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","catalogue","currentArticleId","on","onChange","scopedSlots","_u","key","fn","proxy","_v","_s","article","current","title","content","$event","next","_e","staticRenderFns","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","getCatalogue","columns","level","articles","newLevel","forEach","column","catalogueItem","id","children","push","subCatalogue","subArticles","findArticleByTitle","len","length","isExist","currentIndex","i","banner","result","$route","query","catalogueRes","articlesRes","$router","getColumn","params","columnId","Page","name","components","Card","Catalogue","Markdown","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,YAAY,CAACE,YAAY,YAAYC,MAAM,CAAC,UAAYP,EAAIQ,UAAU,cAAa,EAAM,aAAaR,EAAIS,iBAAiB,IAAM,MAAM,uBAAuB,IAAIC,GAAG,CAAC,YAAYV,EAAIW,UAAUC,YAAYZ,EAAIa,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACX,EAAG,SAASY,OAAM,QAAW,GAAGZ,EAAG,OAAO,CAACE,YAAY,WAAW,CAACF,EAAG,KAAK,CAACE,YAAY,SAAS,CAACN,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAImB,QAAQC,QAAQC,UAAUjB,EAAG,WAAW,CAACE,YAAY,+BAA+BC,MAAM,CAAC,QAAUP,EAAImB,QAAQC,QAAQE,WAAYtB,EAAImB,QAAY,KAAEf,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,MAAM,CAACE,YAAY,eAAeI,GAAG,CAAC,MAAQ,SAASa,GAAQ,OAAOvB,EAAIW,SAASX,EAAImB,QAAQK,KAAKH,UAAU,CAACjB,EAAG,OAAO,CAACE,YAAY,qBAAqB,CAACN,EAAIiB,GAAG,WAAWb,EAAG,OAAO,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAImB,QAAQK,KAAKH,cAAcrB,EAAIyB,MAAM,IAAI,IACj+BC,EAAkB,G,wECAP,SAASC,EAAmBC,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAOG,eAAiBH,G,sECFnC,SAASI,EAAiBC,GACvC,GAAsB,qBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOJ,MAAMO,KAAKH,G,gBCDvG,SAASI,IACtB,MAAM,IAAIC,UAAU,wICGP,SAASC,EAAmBX,GACzC,OAAOY,EAAkBZ,IAAQa,EAAgBb,IAAQc,eAA2Bd,IAAQe,I,sFCwC9F,SAASC,EAAaC,GAAmC,IAAjBC,EAAiB,uDAAD,EAIhDtC,EAA+B,GAC/BuC,EAAqB,GACrBC,EAAWF,EAAQ,EA0BzB,OAxBAD,EAAQI,SAAQ,SAACC,GACf,IAAMC,EAA4B,CAChCL,MAAOE,EACP3B,MAAO6B,EAAO7B,MACd+B,GAAIF,EAAO7B,MACXgC,SAAU,IAUZ,GAPIH,EAAO5B,SACTyB,EAASO,KAAK,CACZjC,MAAO6B,EAAO7B,MACdC,QAAS4B,EAAO5B,UAIhB4B,EAAOH,SAAU,CACnB,MAA2DH,EAAaM,EAAOH,SAAUC,GAAtEO,EAAnB,EAAQ/C,UAAmCgD,EAA3C,EAAiCT,SACjCI,EAAcE,SAAWE,EACzBR,EAASO,KAAT,MAAAP,EAAQ,EAASS,IAGnBhD,EAAU8C,KAAKH,MAGV,CACL3C,YACAuC,YAIJ,SAASU,EAAmBpC,EAAe0B,GAKzC,IAJA,IAAMW,EAAMX,EAASY,OACjBC,GAAU,EACVC,EAAuB,EAElBC,EAAI,EAAGA,EAAIJ,EAAKI,IAAK,CAC5B,IAAM3C,EAAU4B,EAASe,GAEzB,GAAI3C,EAAQE,QAAUA,EAAO,CAC3BuC,GAAU,EACVC,EAAeC,EACf,OAIJ,QAAIF,IACEb,EAASc,EAAe,GACnB,CACLzC,QAAS2B,EAASc,GAClBrC,KAAMuB,EAASc,EAAe,IAI3B,CACLzC,QAAS2B,EAASc,KAexB,+G,0BACU,EAAAxC,MAAQ,GACR,EAAA0C,OAAS,GACT,EAAAhB,SAAqB,GACrB,EAAAvC,UAAwB,CAC9Ba,MAAO,GACP+B,GAAI,GACJN,MAAO,EACPO,SAAU,IARd,8CAcE,WACE,IAAMW,EAASP,EAAmBxD,KAAKQ,iBAAkBR,KAAK8C,UAE9D,OAAIiB,GAIG,CACL5C,QAAS,CACPC,MAAO,GACPC,QAAS,OAxBjB,4BA6BE,WAA4B,QAC1B,OAAO,UAAArB,KAAKgE,OAAOC,aAAZ,eAAmB7C,SAAnB,UAAsCpB,KAAK8C,SAAS,UAApD,aAAsC,EAAkB1B,QAAS,KA9B5E,uBAiCU,SAAU+B,GAChB,IAD0B,EACtBL,EAAoB,GADE,iBAGL9C,KAAK4C,SAHA,IAG1B,2BAAmC,KAAxBK,EAAwB,QACjC,GAAIA,EAAOE,KAAOA,EAAI,CACpBnD,KAAKoB,MAAQ6B,EAAO7B,MACpBpB,KAAK8D,OAASb,EAAOa,QAAU,GAC/BhB,EAAWG,EAAOH,UAAY,GAC9B,QARsB,8BAY1B,MAA2DH,EAAaG,GAArDoB,EAAnB,EAAQ3D,UAAmC4D,EAA3C,EAAiCrB,SAC3BvC,EAAY,CAChBa,MAAOpB,KAAKoB,MACZ+B,GAAI,GACJN,MAAO,EACPO,SAAUc,GAGZlE,KAAK8C,SAAWqB,EAChBnE,KAAKO,UAAYA,IAtDrB,sBAyDU,SAAS4C,GACXnD,KAAKQ,mBAAqB2C,GAI9BnD,KAAKoE,QAAQf,KAAK,CAChBY,MAAO,CACL7C,MAAO+B,OAhEf,qBAqEU,WACNnD,KAAKqE,UAAUrE,KAAKgE,OAAOM,OAAOC,cAtEtC,GAA6BC,EAAA,MAY3B,gBADC,eAAe,Y,8BAXlB,kBARC,eAAU,CACTC,KAAM,SACNC,WAAY,CACVC,OAAA,KACAC,YAAA,KACAC,WAAA,SA2EH,G,QClMiZ,I,wBCQ9YC,EAAY,eACd,EACAhF,EACA2B,GACA,EACA,KACA,WACA,MAIa,aAAAqD,E,kECnBf","file":"static/js/chunk-52bf6e4f.1a087b42.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"catalogue-wrapper\"},[_c('catalogue',{staticClass:\"catalogue\",attrs:{\"catalogue\":_vm.catalogue,\"show-point\":false,\"actived-id\":_vm.currentArticleId,\"tag\":\"div\",\"prevent-parent-click\":\"\"},on:{\"on-change\":_vm.onChange},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div')]},proxy:true}])})],1),_c('card',{staticClass:\"article\"},[_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.article.current.title))]),_c('markdown',{staticClass:\"article-content column-block\",attrs:{\"content\":_vm.article.current.content}}),(_vm.article.next)?_c('div',{staticClass:\"next-article-wrapper column-block\"},[_c('div',{staticClass:\"next-article\",on:{\"click\":function($event){return _vm.onChange(_vm.article.next.title)}}},[_c('span',{staticClass:\"next-article-text\"},[_vm._v(\"下一篇: \")]),_c('span',[_vm._v(_vm._s(_vm.article.next.title))])])]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, InjectReactive } from 'vue-property-decorator';\nimport { Columns, Column } from '@/types/columns';\nimport { Catalogue as TCatalogue } from '@/types/article';\nimport Catalogue from '@commonComponents/Catalogue/index.vue';\nimport Markdown from '@commonComponents/Markdown.vue';\nimport Card from '@commonComponents/Card.vue';\nimport Page from '@mixins/Page';\n\ninterface Article {\n  title: string;\n  content: string;\n}\n\ntype Articles = Array<Article>;\n\nfunction getCatalogue(columns: Columns, level: number = 0): {\n  articles: Articles,\n  catalogue: Array<TCatalogue>,\n} {\n  const catalogue: Array<TCatalogue> = [];\n  const articles: Articles = [];\n  const newLevel = level + 1;\n\n  columns.forEach((column) => {\n    const catalogueItem: TCatalogue = {\n      level: newLevel,\n      title: column.title,\n      id: column.title,\n      children: [],\n    };\n\n    if (column.content) {\n      articles.push({\n        title: column.title,\n        content: column.content,\n      });\n    }\n\n    if (column.articles) {\n      const { catalogue: subCatalogue, articles: subArticles } = getCatalogue(column.articles, newLevel);\n      catalogueItem.children = subCatalogue;\n      articles.push(...subArticles);\n    }\n\n    catalogue.push(catalogueItem);\n  });\n\n  return {\n    catalogue,\n    articles,\n  };\n}\n\nfunction findArticleByTitle(title: string, articles: Articles): { current: Column, next?: Column } | false {\n  const len = articles.length;\n  let isExist = false;\n  let currentIndex: number = 0;\n\n  for (let i = 0; i < len; i++) {\n    const article = articles[i];\n\n    if (article.title === title) {\n      isExist = true;\n      currentIndex = i;\n      break;\n    }\n  }\n\n  if (isExist) {\n    if (articles[currentIndex + 1]) {\n      return {\n        current: articles[currentIndex],\n        next: articles[currentIndex + 1],\n      };\n    }\n\n    return {\n      current: articles[currentIndex],\n    };\n  }\n\n  return false;\n}\n\n@Component({\n  name: 'Column',\n  components: {\n    Card,\n    Catalogue,\n    Markdown,\n  },\n})\nexport default class extends Page {\n  private title = '';\n  private banner = '';\n  private articles: Articles = [];\n  private catalogue: TCatalogue = {\n    title: '',\n    id: '',\n    level: 0,\n    children: [],\n  };\n\n  @InjectReactive('columns')\n  private columns!: Columns;\n\n  private get article(): { current: Column, next?: Column } {\n    const result = findArticleByTitle(this.currentArticleId, this.articles);\n\n    if (result) {\n      return result;\n    }\n\n    return {\n      current: {\n        title: '',\n        content: '',\n      },\n    };\n  }\n\n  private get currentArticleId(): string {\n    return this.$route.query?.title as string || this.articles[0]?.title || '';\n  }\n\n  private getColumn(id: string): void {\n    let articles: Columns = [];\n\n    for (const column of this.columns) {\n      if (column.id === id) {\n        this.title = column.title;\n        this.banner = column.banner || '';\n        articles = column.articles || [];\n        break;\n      }\n    }\n\n    const { catalogue: catalogueRes, articles: articlesRes } = getCatalogue(articles);\n    const catalogue = {\n      title: this.title,\n      id: '',\n      level: 0,\n      children: catalogueRes,\n    };\n\n    this.articles = articlesRes;\n    this.catalogue = catalogue;\n  }\n\n  private onChange(id: string): void {\n    if (this.currentArticleId === id) {\n      return;\n    }\n\n    this.$router.push({\n      query: {\n        title: id,\n      },\n    });\n  }\n\n  private created(): void {\n    this.getColumn(this.$route.params.columnId);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=71844648&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=71844648&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71844648\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=71844648&lang=less&scoped=true&\""],"sourceRoot":""}